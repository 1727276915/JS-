<!-- 闭包 -->
<!-- 闭包是指有权访问另一个函数作用域中的变量的函数 -->
<!-- 闭包的作用： -->
<!-- 1.可以读取函数内部的变量 -->
<!-- 2.让这些变量的值始终保持在内存中 -->
<!-- 3.可以实现封装，防止变量被全局污染 -->
<!-- 4.可以实现缓存和外界访问函数体内部的变量 -->
<!-- 5.可以实现数据的私有化 -->
<!-- 6.可以实现JS模块化和高阶函数 -->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        function fn() {
            var a = 1;
            //局部变量
            return function fn2() {
                a++;
                console.log(a);
            }
        }
        var f = fn();
        f();
        f();
        f();
        //闭包的副作用：会导致原有的作用域链不释放，造成内存泄漏
        //解决方法：在退出函数之前，将不使用的局部变量全部删除
        //闭包的缺点：会导致内存泄漏，所以不能滥用闭包，否则会造成网页的性能问题
        //闭包的优点：可以实现封装，防止变量被全局污染
    </script>
</body>

</html>